<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: gui.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: gui.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// à exporter...
/** 
 * Display the product list on the UI
 * @class
 */

class GuiBuilder {

  constructor (cartManager, productsRepository) {
    this.containers = {};
    this.cartManager = cartManager;
    this.productsRepository = productsRepository;
  }

  showProductLine (theProduct) {
    const line = window.document.createElement("p");

    const product = window.document.createElement("span");
    product.appendChild(
      window.document.createTextNode(theProduct.name)
    );
    product.appendChild(
      window.document.createTextNode(" Prix unitaire : ")
    );
    product.appendChild(
      window.document.createTextNode(theProduct.price)
    );
    product.appendChild(
      window.document.createTextNode(" Actions : ")
    );
    line.appendChild(product);

    const actions = window.document.createElement("span");

    const more = window.document.createElement("a");
    more.appendChild(
      window.document.createTextNode("Ajouter [ + ]")
    );
    actions.appendChild(more);
    actions.appendChild(
      window.document.createTextNode("  ")
    );

    const less = window.document.createElement("a");
    less.appendChild(
      window.document.createTextNode("Retirer [ - ]")
    );
    actions.appendChild(less);
    actions.appendChild(
      window.document.createTextNode("  ")
    );

    line.appendChild(actions);

    more.addEventListener("click", () => {
      this.cartManager.addItem(theProduct);
      this.showCart();
    });

    less.addEventListener("click", () => {
      this.cartManager.removeItem(theProduct);
      this.showCart();
    });

    return line;
  }

  showProducts () {
    if (this.containers.products) {
      this.containers.products
        .parentNode
        .removeChild(
          this.containers.products
        );
    }
    this.containers.products = window.document.createElement("div");
    const line = window.document.createElement("p");
    line.appendChild(
      window.document.createTextNode("Produits :")
    );
    this.containers.products.appendChild(line);

    const products = this.productsRepository.getProducts();
    for (const product of products) {
      const line = this.showProductLine(product);
      this.containers.products.appendChild(line);
    }

    window.document.body.appendChild(this.containers.products);
    return this;
  }

  showCart () {
    if (this.containers.cart) {
      this.containers.cart
        .parentNode
        .removeChild(
          this.containers.cart
        );
    }
    this.containers.cart = window.document.createElement("div");
    this.containers.cart.id = "cart";
    const line = window.document.createElement("p");
    line.appendChild(
      window.document.createTextNode("Panier :")
    );
    this.containers.cart.appendChild(line);

    const cart = this.cartManager.getCart();
    cart.forEach((inCart) => {
      const line = window.document.createElement("p");

      const product = window.document.createElement("span");
      product.appendChild(
        window.document.createTextNode(inCart.item.name)
      );
      product.appendChild(
        window.document.createTextNode(" Quantité : ")
      );
      product.appendChild(
        window.document.createTextNode(inCart.quantity)
      );
      product.appendChild(
        window.document.createTextNode(" Prix total : ")
      );
      product.appendChild(
        window.document.createTextNode(inCart.item.price * inCart.quantity)
      );

      line.appendChild(product);
      this.containers.cart.appendChild(line);
    });

    window.document.body.appendChild(this.containers.cart);
    return this;
  }

  show() {
    this.showProducts();
    this.showCart();
    return this;
  }

  initialize () {
    if (window.document.body) {
      this.show();
    } else {
      window.document.addEventListener("DOMContentLoaded", () => {
        this.show();
      });
    }
    return this;
  }
};

module.exports = {gui: GuiBuilder};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="GuiBuilder.html">GuiBuilder</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Mon Sep 02 2024 11:23:37 GMT+0200 (heure d’été d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
